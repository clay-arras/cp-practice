{"id":1713908148,"question_id":1555,"lang":"cpp","lang_name":"C++","time":"3 months, 3 weeks","timestamp":1753658339,"status":10,"status_display":"Accepted","runtime":"8 ms","url":"/submissions/detail/1713908148/","is_pending":"Not Pending","title":"Number of Ways of Cutting a Pizza","memory":"10.5 MB","code":"class Solution {\npublic:\n    const static int MOD = 1e9+7;\n    const static int MXD = 51;\n    const static int MXK = 11;\n    int N, M;\n\n    vector<vector<int>> pref;\n    int memo[MXD][MXD][MXK];\n    bool vis[MXD][MXD][MXK];\n\n    int getPref(int x1, int x2, int y1, int y2) { // bigger is first\n        return pref[x1+1][y1+1] - pref[x1+1][y2] - pref[x2][y1+1] + pref[x2][y2];\n    }\n\n    int dp(int i, int j, int k) {\n        if (vis[i][j][k])\n            return memo[i][j][k];\n        if (getPref(N-1, i, M-1, j) < k)\n            return 0;\n        if (k == 1)\n            return 1;\n        \n        int sum = 0;\n        for (int x=i+1; x<N; x++) \n            if (getPref(x-1, i, M-1, j))\n                sum = (sum + dp(x, j, k-1)) % MOD;\n        for (int y=j+1; y<M; y++) \n            if (getPref(N-1, i, y-1, j))\n                sum = (sum + dp(i, y, k-1)) % MOD;\n            \n        vis[i][j][k] = true;\n        return memo[i][j][k] = sum;\n    }\n\n    int ways(vector<string>& pizza, int k) {\n        N = (int)pizza.size(), M = (int)pizza[0].size();\n\n        pref = vector<vector<int>>(N+1, vector<int>(M+1, 0));\n        for (int i=1; i<=N; i++) {\n            for (int j=1; j<=M; j++) {\n                pref[i][j] = pref[i-1][j] + pref[i][j-1] - pref[i-1][j-1] + (pizza[i-1][j-1] == 'A');\n            }\n        }\n        int ans = dp(0, 0, k);\n\n        return ans;\n    }\n};\n\n// 2d prefix sum\n// recursive solution w/ dp and memoization\n\n// base case: 0 if if there's a apple inside, 1 if theres\n// state {x1, x2}, {y1, y2}, k\n// transitions: cut x, cut y (N + M)\n// optimization: if group does NOT have k apples inside, then return early\n\n// loop through and cut EVERY SINGLE COMBO\n// time complexity: N^5 * K","compare_result":"111111111111111111111111111111111111111111111111111111","title_slug":"number-of-ways-of-cutting-a-pizza","has_notes":null,"flag_type":1,"frontend_id":1122}