{"id":1479043807,"question_id":3613,"lang":"cpp","lang_name":"C++","time":"11Â months","timestamp":1734231998,"status":10,"status_display":"Accepted","runtime":"15 ms","url":"/submissions/detail/1479043807/","is_pending":"Not Pending","title":"Maximize Amount After Two Days of Conversions","memory":"84.8 MB","code":"class Solution {\npublic:\n    unordered_map<string, vector<pair<string, double>>> adj_list1;\n    unordered_map<string, vector<pair<string, double>>> adj_list2;\n    \n    unordered_map<string, double> Dijkstras(string src, unordered_map<string, vector<pair<string, double>>> &adj_list) {\n        unordered_map<string, double> dist;\n        priority_queue<pair<double, string>> q;\n        for (auto [k, v] : adj_list1)\n            dist[k] = 0;\n        for (auto [k, v] : adj_list2)\n            dist[k] = 0;\n        \n        dist[src] = 1.0;\n        q.push({1.0, src});\n        \n        while (q.size()) {\n            double x = q.top().first;\n            string u = q.top().second;\n            \n            q.pop();\n            if (x != dist[u]) continue;\n            for (auto i : adj_list[u]) {\n                if (x * i.second > dist[i.first]) {\n                    dist[i.first] = x * i.second;\n                    q.push({dist[i.first], i.first});\n                }\n            }\n        }\n        return dist;\n    }\n\n\n    double maxAmount(string initialCurrency, vector<vector<string>>& pairs1, vector<double>& rates1, vector<vector<string>>& pairs2, vector<double>& rates2) {\n        int N1 = (int)pairs1.size();\n        int N2 = (int)pairs2.size();\n\n        for (int i=0; i<N1; i++) {\n            adj_list1[pairs1[i][0]].push_back({pairs1[i][1], rates1[i]});\n            adj_list1[pairs1[i][1]].push_back({pairs1[i][0], 1.0/rates1[i]});\n        }\n        for (int i=0; i<N2; i++) {\n            adj_list2[pairs2[i][0]].push_back({pairs2[i][1], 1.0/rates2[i]});\n            adj_list2[pairs2[i][1]].push_back({pairs2[i][0], rates2[i]});\n        }\n        unordered_map<string, double> dist1 = Dijkstras(initialCurrency, adj_list1);\n        unordered_map<string, double> dist2 = Dijkstras(initialCurrency, adj_list2);\n\n        double ans = 1;\n        for (auto [k, v] : adj_list1) {\n            if (dist2[k])\n                ans = max(ans, dist1[k]*dist2[k]);\n        }\n        for (auto [k, v] : adj_list2) {\n            if (dist2[k])\n                ans = max(ans, dist1[k]*dist2[k]);\n        }\n\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximize-amount-after-two-days-of-conversions","has_notes":false,"flag_type":1,"frontend_id":965}