{"id":1479109470,"question_id":3686,"lang":"cpp","lang_name":"C++","time":"11Â months","timestamp":1734236235,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1479109470/","is_pending":"Not Pending","title":"Count Beautiful Splits in an Array","memory":"N/A","code":"class Solution {\npublic:\n    const static int p = 31;\n    const static int m = 1e9 + 9;\n\n    pair<long long, long long> compute_hash(string const& s, long long hash_value, long long p_pow) {\n        const int p = 31;\n        const int m = 1e9 + 9;\n        for (char c : s) {\n            hash_value = (hash_value + (c - 'a' + 1) * p_pow) % m;\n            p_pow = (p_pow * p) % m;\n        }\n        return {hash_value, p_pow};\n    }\n\n    int beautifulSplits(vector<int>& nums) {\n        if ((int)nums.size() < 3)\n            return 0;\n\n        int N = (int)nums.size();\n        vector<vector<long long>> hash(N, vector<long long> (N, -1));\n        for (int i=0; i<N; i++) {\n            long long hash_value = 0;\n            long long p_pow = 1;\n            for (int j=i; j<N; j++) {\n                auto ret = compute_hash(to_string(nums[j]) + \"#\", hash_value, p_pow);\n                hash_value = ret.first;\n                p_pow = ret.second;\n                hash[i][j] = hash_value;\n            }\n        }\n\n        int ans = 0;\n        for (int i=0; i<N; i++) {\n            for (int j=i+1; j<N; j++) {\n                if (2*j-i-1 < N && hash[i][j-1] == hash[j][2*j-i-1]) {\n                    if (!i) ans += (N - (2*j-i));\n                    else ans += 1;\n                }\n            }\n        }\n        return ans;\n    }\n};","compare_result":"1111111101111111111110101111101111111110111111111101001111011101011111101111111110011011101111101110011111111101100111111111110101111110011111111111101111111111111111111101101111111101011110111110111111011011011111110111111111111101111011101111111011101111110111011101011111111011110111111101111011101011001111100111111110001010111111110011011111010111111011111111111011111111110111111111101011111111011111111111111111111001111111111111101110101000111111011111011111110010110011111111111010110111111100111111111111111111111111111111011111111101111111111111111111111111111111111000000","title_slug":"count-beautiful-splits-in-an-array","has_notes":false,"flag_type":1,"frontend_id":971}