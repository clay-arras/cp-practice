{"id":1798991196,"question_id":4056,"lang":"cpp","lang_name":"C++","time":"1Â month","timestamp":1760242985,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1798991196/","is_pending":"Not Pending","title":"Longest Balanced Substring II","memory":"N/A","code":"class Solution {\npublic:\n    struct TupleHash {\n        size_t operator()(const std::tuple<int, int, int>& t) const {\n            size_t h1 = std::hash<int>{}(std::get<0>(t));\n            size_t h2 = std::hash<int>{}(std::get<1>(t));\n            size_t h3 = std::hash<int>{}(std::get<2>(t));\n            return h1 ^ (h2 << 1) ^ (h3 << 2); \n        }\n    };\n    \n    int longestBalanced(string s) {\n        int N = (int)s.size();\n        unordered_map<tuple<int, int, int>, int, TupleHash> m;\n\n        int a = 0, b = 0, c = 0;\n        int ans = 0;\n        \n        for (int i=0; i<N; i++) {\n            if (s[i] == 'a') a++;\n            if (s[i] == 'b') b++;\n            if (s[i] == 'c') c++;\n\n            for (int k=1; k<8; k++) {\n                bool doA = (k & 1); \n                bool doB = (k & 2);\n                bool doC = (k & 4);\n\n                int mx = max({(doA ? a : 0), (doB ? b : 0), (doC ? c : 0)});\n                if (m.count({(doA ? mx-a : -a), (doB ? mx-b : -b), (doC ? mx-c : -c)})) {\n                    ans = max(ans, i - m[{(doA ? mx-a : -a), (doB ? mx-b : -b), (doC ? mx-c : -c)}] + 1);\n                }\n                int mn = min({(doA ? a : INT_MAX), (doB ? b : INT_MAX), (doC ? c : INT_MAX)});\n                if (!m.count({(doA ? a-mn : -a), (doB ? b-mn : -b), (doC ? c-mn : -c)}))\n                    m[{(doA ? a-mn : -a), (doB ? b-mn : -b), (doC ? c-mn : -c)}] = i; \n            }\n        }\n\n        // for (auto [k, v] : m) {\n        //     cout << setw(4) << get<0>(k) << \" \" << setw(4) << get<1>(k) << \" \" << setw(4) << get<2>(k) << \": \" << v << endl;\n        // }\n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111101111101111111011111111110010110111111101110110101011001100010000011011110100011000011011110010010100111101101010100000001000110111001010011100001001010000000100110111011011001101000010000000101100000101001100001001010100000010101010000000010000010110010000010100010100001000001000100000001101000010000100010000000101010000000010010001000000101100010000000000000000010001000000010010010101010001000000001000001000100000100000000001000000000001000101000000000000000000000001000000000000100001000000000000001010000000000001000000000000001000000000010000000000000000000000100001000000000000000001000001000000010000000000000000001000001000000100000000000010100101000000000100101010000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000100000000000000000000000000000000000000000000000000001110110011111111111110111111111011110111111","title_slug":"longest-balanced-substring-ii","has_notes":false,"flag_type":1,"frontend_id":1262}