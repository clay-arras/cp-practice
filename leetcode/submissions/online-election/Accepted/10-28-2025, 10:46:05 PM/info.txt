{"id":1814722548,"question_id":947,"lang":"cpp","lang_name":"C++","time":"2 weeks, 6 days","timestamp":1761716765,"status":10,"status_display":"Accepted","runtime":"81 ms","url":"/submissions/detail/1814722548/","is_pending":"Not Pending","title":"Online Election","memory":"121.1 MB","code":"class TopVotedCandidate {\npublic:\n    multiset<pair<int, int>> s; // {time, person_id}\n    TopVotedCandidate(vector<int>& persons, vector<int>& times) {\n        multiset<pair<pair<int, int>, int>> cnt; // {cnt, time}, person_id\n        unordered_map<int, decltype(cnt.begin())> m; // person_id to iterator\n\n        int N = (int)persons.size();\n        for (int i=0; i<N; i++) {\n            if (!m.count(persons[i])) \n                m[persons[i]] = cnt.insert({{0, times[i]}, persons[i]});\n\n            auto it = m[persons[i]];\n            int val = it->first.first + 1;\n            cnt.erase(it);\n            m[persons[i]] = cnt.insert({{val, times[i]}, persons[i]});\n\n            s.insert({times[i], cnt.rbegin()->second});\n        }\n        // for (auto i : s)\n        //     cout << i.first << \" \" << i.second << endl;\n        // cout << endl;\n    }\n    \n    int q(int t) {\n        auto it = s.lower_bound({t, INT_MAX});\n        assert(it != s.begin());\n        it = prev(it);\n        return it->second;\n    }\n};\n\n/**\n * Your TopVotedCandidate object will be instantiated and called as such:\n * TopVotedCandidate* obj = new TopVotedCandidate(persons, times);\n * int param_1 = obj->q(t);\n */","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"online-election","has_notes":false,"flag_type":1,"frontend_id":1314}