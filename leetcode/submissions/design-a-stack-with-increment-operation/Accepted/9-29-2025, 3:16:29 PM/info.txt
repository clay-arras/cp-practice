{"id":1786695742,"question_id":1497,"lang":"cpp","lang_name":"C++","time":"1 month, 2 weeks","timestamp":1759184189,"status":10,"status_display":"Accepted","runtime":"3 ms","url":"/submissions/detail/1786695742/","is_pending":"Not Pending","title":"Design a Stack With Increment Operation","memory":"29.2 MB","code":"class CustomStack {\npublic:\n    stack<int> s;\n    vector<int> incs;\n    int N;\n\n    CustomStack(int maxSize) {\n        N = maxSize;\n        incs = vector<int>(maxSize, 0);\n    }\n    \n    void push(int x) {\n        if ((int)s.size() < N)\n            s.push(x);\n    }\n    \n    int pop() {\n        if (s.empty())\n            return -1;\n\n        int sz = (int)s.size()-1;\n        int ret = s.top() + incs[sz];\n\n        s.pop();\n        if (sz-1 >= 0)\n            incs[sz - 1] += incs[sz];\n        incs[sz] = 0;\n\n        return ret;\n    }\n    \n    void increment(int k, int val) {\n        int ssize = (int)s.size()-1;\n        if (ssize == -1)\n            return;\n        incs[min(k-1, ssize)] += val;\n    }\n};\n\n/**\n * Your CustomStack object will be instantiated and called as such:\n * CustomStack* obj = new CustomStack(maxSize);\n * obj->push(x);\n * int param_2 = obj->pop();\n * obj->increment(k,val);\n */\n \n /*\n\n Input\n[\"CustomStack\",\"push\",\"push\",\"pop\",\"push\",\"push\",\"push\",\"increment\",\"increment\",\"pop\",\"pop\",\"pop\",\"pop\"]\n[[3],[1],[2],[],[2],[3],[4],[5,100],[2,100],[],[],[],[]]\nOutput\n[null,null,null,2,null,null,null,null,null,103,202,201,-1]\n\n\nExplanation\nCustomStack stk = new CustomStack(3); // Stack is Empty []\nstk.push(1);                          // stack becomes [1]\nstk.push(2);                          // stack becomes [1, 2]\nstk.pop();                            // return 2 --> Return top of the stack 2, stack becomes [1]\nstk.push(2);                          // stack becomes [1, 2]\nstk.push(3);                          // stack becomes [1, 2, 3]\nstk.push(4);                          // stack still [1, 2, 3], Do not add another elements as size is 4\nstk.increment(5, 100);                // stack becomes [101, 102, 103]\nstk.increment(2, 100);                // stack becomes [201, 202, 103]\nstk.pop();                            // return 103 --> Return top of the stack 103, stack becomes [201, 202]\nstk.pop();                            // return 202 --> Return top of the stack 202, stack becomes [201]\nstk.pop();                            // return 201 --> Return top of the stack 201, stack becomes []\nstk.pop();                            // return -1 --> Stack is empty return -1.\n\n\n\nstack<int> s = {2, 4, 6, 3};\nint N; // maxSize = 4\nvector<int> incs (maxSize, 0);\n\ninc(2, 3)\ninc(3, 5)\nincs = {0, 0, 0, 0};\n\npop -> 3\npop -> 11\npop -> 12\npop -> 10\n\n\ntime complexity: O(1) for each operation\nspace complexity: O(N) for data structure\n\n*/","compare_result":"1111111111111111111111111111111111","title_slug":"design-a-stack-with-increment-operation","has_notes":null,"flag_type":1,"frontend_id":1242}