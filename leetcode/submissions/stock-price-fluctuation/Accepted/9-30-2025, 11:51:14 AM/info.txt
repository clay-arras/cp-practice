{"id":1787560634,"question_id":2161,"lang":"cpp","lang_name":"C++","time":"1 month, 2 weeks","timestamp":1759258274,"status":10,"status_display":"Accepted","runtime":"100 ms","url":"/submissions/detail/1787560634/","is_pending":"Not Pending","title":"Stock Price Fluctuation ","memory":"170.9 MB","code":"class StockPrice {\npublic:\n    map<int, int> m; // time, val\n    priority_queue<pair<int, int>> mn, mx; // {val, time}\n\n    StockPrice() {\n        \n    }\n    \n    void update(int timestamp, int price) {\n        m[timestamp] = price;\n        mn.push({-price, timestamp});\n        mx.push({price, timestamp});\n    }\n    \n    int current() {\n        return m.rbegin()->second;\n    }\n    \n    int maximum() {\n        while (m[mx.top().second] != mx.top().first)\n            mx.pop();\n        return mx.top().first;\n    }\n    \n    int minimum() {\n        while (m[mn.top().second] != -mn.top().first)\n            mn.pop();\n        return -mn.top().first;\n    }\n};\n\n/**\n * Your StockPrice object will be instantiated and called as such:\n * StockPrice* obj = new StockPrice();\n * obj->update(timestamp,price);\n * int param_2 = obj->current();\n * int param_3 = obj->maximum();\n * int param_4 = obj->minimum();\n */\n\n\n/*\n\n// segtree over 1e5\n\n2 heaps, min + max, lazy deletion\n{val, timestamp} -> for lazy deletion, check match in hashmap\n\ntime complexity: logN\nspace complexity: N\n\n*/","compare_result":"111111111111111111","title_slug":"stock-price-fluctuation","has_notes":false,"flag_type":1,"frontend_id":1250}