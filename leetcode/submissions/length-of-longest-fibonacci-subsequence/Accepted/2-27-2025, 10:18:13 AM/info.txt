{"id":1557446013,"question_id":905,"lang":"cpp","lang_name":"C++","time":"8 months, 3 weeks","timestamp":1740680293,"status":10,"status_display":"Accepted","runtime":"388 ms","url":"/submissions/detail/1557446013/","is_pending":"Not Pending","title":"Length of Longest Fibonacci Subsequence","memory":"149.9 MB","code":"class Solution {\npublic:\n    int lenLongestFibSubseq(vector<int>& arr) {\n        int maxLen = 0;\n        // dp[prev][curr] stores length of Fibonacci sequence ending at indexes\n        // prev,curr\n        vector<vector<int>> dp(arr.size(), vector<int>(arr.size(), 0));\n\n        // Map each value to its index for O(1) lookup\n        unordered_map<int, int> valToIdx;\n\n        // Fill dp array\n        for (int curr = 0; curr < arr.size(); curr++) {\n            valToIdx[arr[curr]] = curr;\n\n            for (int prev = 0; prev < curr; prev++) {\n                // Find if there exists a previous number to form Fibonacci\n                // sequence\n                int diff = arr[curr] - arr[prev];\n                int prevIdx = (valToIdx.find(diff) != valToIdx.end())\n                                  ? valToIdx[diff]\n                                  : -1;\n\n                // Update dp if valid Fibonacci sequence possible\n                // diff < arr[prev] ensures strictly increasing sequence\n                if (diff < arr[prev] && prevIdx >= 0) {\n                    dp[prev][curr] = dp[prevIdx][prev] + 1;\n                } else {\n                    dp[prev][curr] = 2;\n                }\n\n                maxLen = max(maxLen, dp[prev][curr]);\n            }\n        }\n\n        // Return 0 if no sequence of length > 2 found\n        return maxLen > 2 ? maxLen : 0;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111","title_slug":"length-of-longest-fibonacci-subsequence","has_notes":false,"flag_type":1,"frontend_id":1032}