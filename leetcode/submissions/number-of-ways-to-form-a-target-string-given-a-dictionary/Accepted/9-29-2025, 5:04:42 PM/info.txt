{"id":1786735230,"question_id":1744,"lang":"cpp","lang_name":"C++","time":"1 month, 2 weeks","timestamp":1759190682,"status":10,"status_display":"Accepted","runtime":"1060 ms","url":"/submissions/detail/1786735230/","is_pending":"Not Pending","title":"Number of Ways to Form a Target String Given a Dictionary","memory":"222.9 MB","code":"class Solution {\npublic:\n    const static int MOD = 1e9+7;\n    vector<unordered_map<char, int>> cnt;\n    vector<unordered_map<int, int>> memo;\n    int N, M;\n    string tar;\n\n    int dp(int i, int x) {\n        if (i == N)\n            return 1;\n        if (x == M)\n            return 0;\n        if (memo[i].count(x))\n            return memo[i][x];\n\n        long long ans = 0;\n        ans += dp(i, x+1);\n        ans += dp(i+1, x+1) * 1LL * cnt[x][tar[i]];\n\n        ans %= MOD;\n        return memo[i][x] = ans;\n    }\n\n    int numWays(vector<string>& words, string target) {\n        N = (int)target.size();\n        M = (int)words[0].size();\n        tar = target;\n        \n        cnt = vector<unordered_map<char, int>>(M);\n        for (string s : words) {\n            for (int i=0; i<M; i++)\n                cnt[i][s[i]]++;\n        }\n\n        memo = vector<unordered_map<int, int>>(N);\n        return dp(0, 0);\n    }\n};\n\n/*\n\ndp with optimization\nN^2logN\n\nDEFINITION\ndp[target.length][words[j].length] = number of ways\ndp[i][j]\nhow many ways we can form the target up to i using chars before and on the jth word char\n\nquery(x: all chars we can use, c: char we're looking for) => a list of indices where that works {x, j}\n\nBASE CASE\ndp = 0\nquery(0, target[0])\ndp[0][x] += 1\n\nTRANSITION\nquery(x, target[i])\ndp[in][xn] += dp[i][x]\n\n---\n\nsearch w/ memo\n\nstart point: dp[0][0]\nend point: when we finish, then we return 1\nif (x == target.size())\n    return 1;\n\ncurrently O(N^2)\n*/","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-ways-to-form-a-target-string-given-a-dictionary","has_notes":false,"flag_type":1,"frontend_id":1245}