{"id":1487546087,"question_id":2658,"lang":"cpp","lang_name":"C++","time":"10 months, 3 weeks","timestamp":1735082328,"status":10,"status_display":"Accepted","runtime":"251 ms","url":"/submissions/detail/1487546087/","is_pending":"Not Pending","title":"Count the Number of K-Big Indices","memory":"86.2 MB","code":"class Solution {\npublic:\n\n    template<class T>\n    struct SegTree {\n        static constexpr T unit = 0;\n        T f(T a, T b) { return a + b; }\n        vector<T> tree; int n;\n        SegTree (int i = 0, T def = unit) : tree(2*i, def), n(i) {}\n        void update(int pos, T val) {\n            for (tree[pos += n] = val; pos /= 2;)\n                tree[pos] = f(tree[pos * 2], tree[pos * 2 + 1]);\n        }\n        T query(int b, int e) {\n            T ra = unit, rb = unit;\n            for (b += n, e += n; b < e; b /= 2, e /= 2) {\n                if (b % 2) ra = f(ra, tree[b++]);\n                if (e % 2) rb = f(tree[--e], rb);\n            }\n            return f(ra, rb);\n        }\n    };\n\n    int kBigIndices(vector<int>& nums, int k) {\n        map<int, vector<int>> m;\n        int N = (int)nums.size();\n        for (int i=0; i<N; i++) \n            m[nums[i]].push_back(i);\n\n        int ans = 0;\n        SegTree<int> st(N, 0);\n\n        for (auto [ky, v] : m) {\n            for (int i : v) {\n                int l = st.query(0, i);\n                int r = st.query(i, N);\n                ans += (l >= k) && (r >= k);\n            }\n            for (int i : v)\n                st.update(i, 1);\n        }\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111","title_slug":"count-the-number-of-k-big-indices","has_notes":false,"flag_type":1,"frontend_id":994}