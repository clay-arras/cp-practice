{"id":1825576680,"question_id":4030,"lang":"cpp","lang_name":"C++","time":"1 week, 1 day","timestamp":1762740356,"status":10,"status_display":"Accepted","runtime":"171 ms","url":"/submissions/detail/1825576680/","is_pending":"Not Pending","title":"Maximize Cyclic Partition Score","memory":"43.7 MB","code":"class Solution {\npublic:\n    int N, K;\n    long long score(vector<int>& nums) {\n        vector<vector<long long>> dp(3, vector<long long>(K+1, -1e15));\n        dp[0][0] = 0;\n        for (int i=0; i<N; i++) {\n            for (int j=K; j>=1; j--) {\n                dp[0][j] = max(dp[0][j], max(dp[1][j] - nums[i], dp[2][j] + nums[i]));\n                dp[1][j] = max(dp[1][j], dp[0][j-1] + nums[i]);\n                dp[2][j] = max(dp[2][j], dp[0][j-1] - nums[i]);\n            }\n        }\n        long long ans = 0;\n        for (int i=0; i<=K; i++)\n            ans = max(ans, dp[0][i]);\n        return ans;\n    }\n\n    long long maximumScore(vector<int>& nums, int k) {\n        N = (int)nums.size(), K = k;\n\n        int mn = *min_element(nums.begin(), nums.end());\n        vector<int> rot;\n        for (int i=0; i<2*N; i++) {\n            int sz = (int)rot.size();\n            if ((nums[i%N] == mn || sz) && sz < N)\n                rot.push_back(nums[i%N]);\n        }\n        vector<int> rrot(rot.rbegin(), rot.rend());\n        rrot.pop_back();\n        rrot.insert(rrot.begin(), mn);\n        return max(score(rot), score(rrot));\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximize-cyclic-partition-score","has_notes":false,"flag_type":1,"frontend_id":1357}