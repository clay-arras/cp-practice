{"id":1825574007,"question_id":4030,"lang":"cpp","lang_name":"C++","time":"1 week, 1 day","timestamp":1762739975,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1825574007/","is_pending":"Not Pending","title":"Maximize Cyclic Partition Score","memory":"N/A","code":"class Solution {\npublic:\n    int N, K;\n    long long score(vector<int>& nums) {\n        vector<vector<long long>> dp(3, vector<long long>(K+1, -1e15));\n        dp[0][0] = 0;\n        for (int i=0; i<N; i++) {\n            for (int j=K; j>=1; j--) {\n                dp[0][j] = max(dp[0][j], max(dp[1][j] - nums[i], dp[2][j] + nums[i]));\n                dp[1][j] = max(dp[1][j], dp[0][j-1] + nums[i]);\n                dp[2][j] = max(dp[2][j], dp[0][j-1] - nums[i]);\n            }\n        }\n        long long ans = 0;\n        for (int i=0; i<=K; i++)\n            ans = max(ans, dp[0][i]);\n        return ans;\n    }\n\n    long long maximumScore(vector<int>& nums, int k) {\n        N = (int)nums.size(), K = k;\n\n        int mn = *min_element(nums.begin(), nums.end());\n        int mn_idx = min_element(nums.begin(), nums.end()) - nums.begin();\n        int mx_idx = distance(nums.begin(), find(nums.rbegin(), nums.rend(), mn).base()) - 1;\n        vector<int> rot;\n        for (int i=0; i<2*N; i++) {\n            int sz = (int)rot.size();\n            if ((nums[i%N] == mn || sz) && sz < N)\n                rot.push_back(nums[i%N]);\n        }\n        vector<int> rrot;\n        for (int i=0; i<2*N; i++) {\n            int sz = (int)rrot.size();\n            if ((i%N == mx_idx || sz) && sz < N)\n                rrot.push_back(nums[i%N]);\n        }\n        // for (int i : rot)\n        //     cout << i << \" \";\n        // cout << endl;\n        // for (int i : rrot)\n        //     cout << i << \" \";\n        // cout << endl;\n        // vector<int> rrot(rot.rbegin(), rot.rend());\n        return max(score(rot), score(rrot));\n    }\n};\n// 2 2 2 4 5\n// 2 2 4 5 2","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111101011111111001111110100010111111010011011110101011001111100101011010100010010111110011101101101100010111110100111001111001111111101110011110011100111101111111111110111011011010011010101000001010010110101001111010011111111111111101001000101010111100110101011010111011111101001101110001011010001100110101011101111011111111111101111111010111101111001110110100111001111111001011110111010110011101111111011111101110111101111011111111111011101111101111011011011101011111110100111101101111110101000101111101100000011001100001010010111011001111111011010001100111001011010111101110110001011100100001110110111010011111001101111111111111010","title_slug":"maximize-cyclic-partition-score","has_notes":false,"flag_type":1,"frontend_id":1356}