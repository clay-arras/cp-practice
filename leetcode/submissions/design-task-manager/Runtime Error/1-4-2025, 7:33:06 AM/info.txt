{"id":1497504218,"question_id":3678,"lang":"cpp","lang_name":"C++","time":"10 months, 2 weeks","timestamp":1736004786,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/1497504218/","is_pending":"Not Pending","title":"Design Task Manager","memory":"N/A","code":"class TaskManager {\npublic:\n    // {taskId} -> userId\n    map<int, int> usrd;\n    // {priority, taskId} sorted\n    set<pair<int, int>> s;\n    // marks taskId as destroyed in map\n    map<int, bool> destr;\n    // taskId -> priority\n    map<int, int> ed;\n    TaskManager(vector<vector<int>>& tasks) {\n        for (auto t : tasks) \n            add(t[0], t[1], t[2]);\n    }\n    \n    void add(int userId, int taskId, int priority) {\n        usrd[taskId] = userId;\n        s.insert({-priority, -taskId});\n        ed[taskId] = priority;\n    }\n    \n    void edit(int taskId, int newPriority) {\n        auto it = s.find({-ed[taskId], -taskId});\n        s.erase(it);\n        ed[taskId] = newPriority;\n        s.insert({-ed[taskId], -taskId});\n    }\n    \n    void rmv(int taskId) {\n        destr[taskId] = true;\n    }\n    \n    int execTop() {\n        auto it = s.begin();\n        while (destr[-it->second] && !s.empty()) {\n            s.erase(it);\n            if (s.empty())\n                return -1;\n            destr[-it->second] = false;\n            it = s.begin();\n        }\n        if (s.empty())\n            return -1;\n        \n        int ans = usrd[-it->second];\n        s.erase(it);\n        return ans;\n    }\n};\n\n/**\n * Your TaskManager object will be instantiated and called as such:\n * TaskManager* obj = new TaskManager(tasks);\n * obj->add(userId,taskId,priority);\n * obj->edit(taskId,newPriority);\n * obj->rmv(taskId);\n * int param_4 = obj->execTop();\n */","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"design-task-manager","has_notes":false,"flag_type":1,"frontend_id":1009}