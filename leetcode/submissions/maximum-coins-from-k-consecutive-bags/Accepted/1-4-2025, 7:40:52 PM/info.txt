{"id":1498072668,"question_id":3715,"lang":"cpp","lang_name":"C++","time":"10 months, 1 week","timestamp":1736048452,"status":10,"status_display":"Accepted","runtime":"262 ms","url":"/submissions/detail/1498072668/","is_pending":"Not Pending","title":"Maximum Coins From K Consecutive Bags","memory":"219.9 MB","code":"class Solution {\npublic:\n    long long maximumCoins(vector<vector<int>>& coins, int k) {\n        // line sweep, at each point get max of forward and backwards??\n        // map<int, int> line;\n        // for (auto &i : coins) {\n        //     line[i[0]] += i[2];\n        //     line[i[1]] -= i[2];\n        // }\n        int N = (int)coins.size();\n        sort(coins.begin(), coins.end());\n        queue<vector<int>> q;\n        long long ans = 0, sum = 0;\n        for (int i=0; i<N; i++) {\n            while (!q.empty() && coins[i][1] - k >= q.front()[1]) {\n                sum -= 1LL * q.front()[2] * (q.front()[1] - q.front()[0] + 1);\n                q.pop();\n            }\n            sum += 1LL * coins[i][2] * ((coins[i][1] - coins[i][0] + 1));\n            q.push(coins[i]);\n            ans = max(ans, sum - max(0LL, (1LL * coins[i][1] - k - q.front()[0] + 1) * q.front()[2]));\n        }\n\n        q = queue<vector<int>>();\n        sum = 0;\n        for (int i=N-1; i>=0; i--) {\n            while (!q.empty() && coins[i][0] + k <= q.front()[0]) {\n                sum -= 1LL * q.front()[2] * (q.front()[1] - q.front()[0] + 1);\n                q.pop();\n            }\n            sum += 1LL * coins[i][2] * ((coins[i][1] - coins[i][0] + 1));\n            q.push(coins[i]);\n            ans = max(ans, sum - max(0LL, (1LL * q.front()[1] - (coins[i][0] + k) + 1) * q.front()[2]));\n        }\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"maximum-coins-from-k-consecutive-bags","has_notes":false,"flag_type":1,"frontend_id":1018}