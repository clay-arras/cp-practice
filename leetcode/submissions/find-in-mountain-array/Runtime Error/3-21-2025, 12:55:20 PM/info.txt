{"id":1581691598,"question_id":1185,"lang":"cpp","lang_name":"C++","time":"7 months, 4 weeks","timestamp":1742586920,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/1581691598/","is_pending":"Not Pending","title":"Find in Mountain Array","memory":"N/A","code":"/**\n * // This is the MountainArray's API interface.\n * // You should not implement it, or speculate about its implementation\n * class MountainArray {\n *   public:\n *     int get(int index);\n *     int length();\n * };\n */\n\nclass Solution {\npublic:\n    template<class T>\n    T firstTrue(T l, T r, function<bool(T)> f) {\n        r++;\n        while (l < r) {\n            T mid = l + (r - l) / 2;\n            if (f(mid)) r = mid;\n            else l = mid + 1;\n        }\n        return l;\n    }\n    \n    int findInMountainArray(int target, MountainArray &mountainArr) {\n        int N = mountainArr.length();\n        \n        int piv = firstTrue<int>(0, N-1, [&](int i) -> bool {\n            if (i == N-1)\n                return true;\n            return mountainArr.get(i) > mountainArr.get(i+1);\n        });\n        \n        int l = firstTrue<int>(0, piv, [&](int i) -> bool {\n            return mountainArr.get(i) >= target;\n        });\n        int r = firstTrue<int>(piv, N-1, [&](int i) -> bool {\n            return mountainArr.get(i) <= target;\n        });\n        \n        if (l != -1 && mountainArr.get(l) == target)\n            return l;\n        if (r != -1 && mountainArr.get(r) == target)\n            return r;\n        return -1;\n    }\n};","compare_result":"1110000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"find-in-mountain-array","has_notes":false,"flag_type":1,"frontend_id":1064}