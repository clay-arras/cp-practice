{"id":1814492400,"question_id":300,"lang":"cpp","lang_name":"C++","time":"3Â weeks","timestamp":1761691363,"status":10,"status_display":"Accepted","runtime":"7 ms","url":"/submissions/detail/1814492400/","is_pending":"Not Pending","title":"Longest Increasing Subsequence","memory":"17.2 MB","code":"class Solution {\npublic:\n    template<class T>\n    struct SegTree {\n        static constexpr T unit = 0;\n        T f(T a, T b) { return max(a, b); }\n        vector<T> tree; int n;\n        SegTree (int i = 0, T def = unit) : tree(2*i, def), n(i) {}\n        void update(int pos, T val) {\n            for (tree[pos += n] = val; pos /= 2;)\n                tree[pos] = f(tree[pos * 2], tree[pos * 2 + 1]);\n        }\n        T query(int b, int e) {\n            T ra = unit, rb = unit;\n            for (b += n, e += n; b < e; b /= 2, e /= 2) {\n                if (b % 2) ra = f(ra, tree[b++]);\n                if (e % 2) rb = f(tree[--e], rb);\n            }\n            return f(ra, rb);\n        }\n    };\n\n    int lengthOfLIS(vector<int>& nums) {\n        int N = (int)nums.size();\n\n        vector<pair<int, int>> comp;\n        for (int i=0; i<N; i++)\n            comp.push_back({nums[i], i});\n        sort(comp.begin(), comp.end());\n\n        unordered_map<int, int> cc;\n        int cnt = 0;\n        for (int i=0; i<N; i++) {\n            if (!cc.count(comp[i].first)) \n                cc[comp[i].first] = cnt++;\n            comp[i] = {cc[comp[i].first], comp[i].second};\n        }\n        sort(comp.begin(), comp.end(), [](const pair<int, int>& a, \n                    const pair<int, int>& b) {\n            if (a.second == b.second)  \n                assert(false);\n            return a.second < b.second;\n        });\n\n        SegTree<int> stree(cnt, 0);\n        for (int i=0; i<N; i++) {\n            int val = stree.query(0, comp[i].first) + 1;\n            stree.update(comp[i].first, val);\n        }\n        return stree.query(0, cnt);\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111","title_slug":"longest-increasing-subsequence","has_notes":false,"flag_type":1,"frontend_id":1308}