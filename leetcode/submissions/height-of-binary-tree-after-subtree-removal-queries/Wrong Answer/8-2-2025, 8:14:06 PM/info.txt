{"id":1721391865,"question_id":2545,"lang":"cpp","lang_name":"C++","time":"3 months, 2 weeks","timestamp":1754190846,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1721391865/","is_pending":"Not Pending","title":"Height of Binary Tree After Subtree Removal Queries","memory":"N/A","code":"/**\n * Definition for a binary tree node.\n * struct TreeNode {\n *     int val;\n *     TreeNode *left;\n *     TreeNode *right;\n *     TreeNode() : val(0), left(nullptr), right(nullptr) {}\n *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}\n *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}\n * };\n */\nclass Solution {\npublic:\n    const static int MX = 1e5+5;\n    int memo[MX];\n    int depth[MX];\n\n    void dp(TreeNode* node, int height) {\n        if (node == nullptr) \n            return;\n\n        if (node->left) {\n            memo[node->left->val-1] = memo[node->val-1];\n            if (node->right) \n                memo[node->left->val-1] = \n                    max(memo[node->left->val-1], depth[node->right->val-1] + height);\n        }\n\n        if (node->right) {\n            memo[node->right->val-1] = memo[node->val-1];\n            if (node->left) \n                memo[node->right->val-1] = \n                    max(memo[node->right->val-1], depth[node->left->val-1] + height);\n        }\n\n        dp(node->left, height+1);\n        dp(node->right, height+1);\n    }\n\n    int dfs(TreeNode* node) {\n        if (node->left == nullptr && node->right == nullptr)\n            return depth[node->val - 1] = 0;\n        \n        if (node->left != nullptr)\n            depth[node->val - 1] = max(depth[node->val - 1], dfs(node->left) + 1);\n        if (node->right != nullptr)\n            depth[node->val - 1] = max(depth[node->val - 1], dfs(node->right) + 1);\n        return depth[node->val - 1];\n    }\n\n    vector<int> treeQueries(TreeNode* root, vector<int>& queries) {\n        dfs(root);\n\n        memo[root->val - 1] = 0;\n        dp(root, 1);\n\n        for (int i=0; i<(int)queries.size(); i++) {\n            queries[i] = memo[queries[i]-1];\n        }\n        \n        return queries;\n    }\n};","compare_result":"1101101111101111111111111111111111111111","title_slug":"height-of-binary-tree-after-subtree-removal-queries","has_notes":false,"flag_type":1,"frontend_id":1130}