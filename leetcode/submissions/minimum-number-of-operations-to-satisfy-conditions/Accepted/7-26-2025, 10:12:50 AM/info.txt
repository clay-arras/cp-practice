{"id":1712395024,"question_id":3404,"lang":"cpp","lang_name":"C++","time":"3 months, 3 weeks","timestamp":1753549970,"status":10,"status_display":"Accepted","runtime":"246 ms","url":"/submissions/detail/1712395024/","is_pending":"Not Pending","title":"Minimum Number of Operations to Satisfy Conditions","memory":"150.5 MB","code":"class Solution {\npublic:\n    const static int ID = 1e7;\n\n    int minimumOperations(vector<vector<int>>& grid) {\n        // pattern: precalculate + dp\n        // dp[i][chosen value] = num ops\n        int N = (int)grid.size(), M = (int)grid[0].size();\n\n        vector<unordered_map<int, int>> cnt(M);\n        for (int i=0; i<M; i++) {\n            cnt[i][(ID + i)] = 0; // stub id\n            for (int j=0; j<N; j++)\n                cnt[i][grid[j][i]]++; \n        }\n\n        vector<vector<pair<int, int>>> mp(M);\n        for (int i=0; i<M; i++) {\n            for (auto [k, v] : cnt[i]) {\n                mp[i].push_back({v, k});\n            }\n            sort(mp[i].rbegin(), mp[i].rend());\n        }\n\n        vector<vector<int>> dp(M, vector<int>(N+1, 1e9));\n        pair<int, int> fb = {1e9, 1e9}, sb = {1e9, 1e9};\n        for (int k=0; k<mp[0].size(); k++) {\n            dp[0][k] = N - mp[0][k].first;\n            pair<int, int> curr{dp[0][k], mp[0][k].second};\n            if (fb > curr) {\n                sb = fb;\n                fb = curr;\n            } else {\n                sb = min(sb, curr);\n            }\n        }\n\n        for (int i=1; i<M; i++) {\n            cout << fb.first << \" \" << fb.second << endl;\n            cout << sb.first << \" \" << sb.second << endl;\n            cout << endl;\n            for (int k=0; k<mp[i].size(); k++) { // 0 is the biggest\n                if (mp[i][k].second != fb.second) {\n                    dp[i][k] = min(dp[i][k], fb.first + (N - mp[i][k].first));\n                }\n                if (mp[i][k].second != sb.second) {\n                    dp[i][k] = min(dp[i][k], sb.first + (N - mp[i][k].first));\n                }\n            }\n            fb = {1e9, 1e9};\n            sb = {1e9, 1e9};\n            for (int k=0; k<mp[i].size(); k++) { // 0 is the biggest\n                pair<int, int> curr{dp[i][k], mp[i][k].second};\n                if (fb > curr) {\n                    sb = fb;\n                    fb = curr;\n                } else {\n                    sb = min(sb, curr);\n                }\n            }\n        }\n        \n        int ans = INT_MAX;\n        for (int i=0; i<N+1; i++)\n            ans = min(ans, dp[M-1][i]);\n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"minimum-number-of-operations-to-satisfy-conditions","has_notes":false,"flag_type":1,"frontend_id":1120}