{"id":1805583184,"question_id":4020,"lang":"cpp","lang_name":"C++","time":"4 weeks, 2 days","timestamp":1760846805,"status":10,"status_display":"Accepted","runtime":"6 ms","url":"/submissions/detail/1805583184/","is_pending":"Not Pending","title":"Lexicographically Smallest Permutation Greater Than Target","memory":"12.9 MB","code":"class Solution {\npublic:\n    string lexGreaterPermutation(string s, string target) {\n        int N = (int)s.size();\n        unordered_map<char, int> m;\n        for (char c : s) \n            m[c]++;\n\n        string ans = \"\";\n        bool ok = false;\n        for (int i=0; i<N; i++) {\n            if (!ok) {\n                for (char c=target[i]; c<='z'; c++) {\n                    if (m[c] > 0) {\n                        m[c]--;\n                        ans.push_back(c);\n                        if (c > target[i])\n                            ok = true;\n                        break;\n                    }\n                }\n            }\n            if (ok || (int)ans.size() != i+1) {\n                for (char c='a'; c<='z'; c++) {\n                    if (m[c] > 0) {\n                        m[c]--;\n                        ans.push_back(c);\n                        break;\n                    }\n                }\n            }\n            // if (ok) {\n            //     for (char c='a'; c<='z'; c++) {\n            //         if (m[c] > 0) {\n            //             m[c]--;\n            //             ans.push_back(c);\n            //             break;\n            //         }\n            //     }\n            // } else {\n            //     for (char c=target[i]; c<='z'; c++) {\n            //         if (m[c] > 0) {\n            //             m[c]--;\n            //             ans.push_back(c);\n            //             if (c > target[i])\n            //                 ok = true;\n            //             break;\n            //         }\n            //     }\n            //     if ((int)ans.size() != i+1) {\n            //         ok = true; \n            //         for (char c='a'; c<='z'; c++) {\n            //             if (m[c] > 0) {\n            //                 m[c]--;\n            //                 ans.push_back(c);\n            //                 break;\n            //             }\n            //         }\n            //     }\n            // }\n        }\n        \n        string t = s;\n        sort(t.rbegin(), t.rend());\n        if (t == target) return \"\";\n\n        if (ans <= target) {\n            // can swap\n            unordered_map<char, int> mm;\n            for (int i=N-1; i>=0; i--) {\n                for (char c=target[i]+1; c<='z'; c++) {\n                    if (mm.count(c)) {\n                        string tmp = ans;\n                        swap(tmp[mm[c]], tmp[i]);\n                        sort(tmp.begin() + i + 1, tmp.end());\n                        if (tmp > target)\n                            return tmp;\n                    }\n                }\n                mm[ans[i]] = i; \n            }\n        }\n\n        return ans > target ? ans : \"\";\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"lexicographically-smallest-permutation-greater-than-target","has_notes":false,"flag_type":1,"frontend_id":1286}